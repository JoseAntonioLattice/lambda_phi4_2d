module parameters

  use precision
  implicit none

  integer(i4) :: Lx, Ly
  real(dp) :: lambda
  real(dp) :: acceptance_rate

  namelist /lattice/ Lx, Ly
  namelist /parameters/ lambda, acceptance_rate
  
contains

  subroutine read_input()

    character(100) :: parameters_file
    integer(i4) :: inunit
    write(*,"(a)") "Please enter the parameters file:"
    read(*,"(a)") parameters_file
    
    open(newunit = inunit, file = trim(parameters_file))

    read(inunit, nml = lattice)
    read(inunit, nml = parameters)

    close(inunit)

    write(*, nml = lattice)
    write(*, nml = parameters)
    
  end subroutine read_input

    
end module parameters
